@* @model Masterpiece.Models.Product *@
@model Masterpiece.ViewModel.ProductDetailsViewModel

@* <div class="container py-5"> *@
@*     <div class="text-center mb-4"> *@
@*         <h2>Product Details</h2> *@
@*     </div> *@

@*     <div class="row"> *@
@*         <div class="col-md-6"> *@
@*             <div id="productCarousel" class="carousel slide" data-bs-ride="carousel"> *@
@*                 <div class="carousel-inner"> *@
@*                     <div class="carousel-item active"> *@
@*                         <img src="/img/20240703_191831.jpg" class="d-block w-100"> *@
@*                     </div> *@
@*                     <div class="carousel-item"> *@
@*                         <img src="/img/20240703_182729.jpg" class="d-block w-100"> *@
@*                     </div> *@
@*                     <div class="carousel-item"> *@
@*                         <img src="/img/20240703_191816.jpg" class="d-block w-100"> *@
@*                     </div> *@
@*                     <div class="carousel-item"> *@
@*                         <img src="/img/20240703_191836.jpg" class="d-block w-100"> *@
@*                     </div> *@
@*                 </div> *@
@*                 <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev"> *@
@*                     <span class="carousel-control-prev-icon"></span> *@
@*                 </button> *@
@*                 <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next"> *@
@*                     <span class="carousel-control-next-icon"></span> *@
@*                 </button> *@
@*             </div> *@
@*         </div> *@
@*         <div class="col-md-6"> *@
@*             <h3>Variable Product</h3> *@
@*             <div class="mb-2"> *@
@*                 <span class="badge bg-warning">★★★★☆</span> <span>3 Reviews</span> *@
@*             </div> *@
@*             <p class="fs-4"><span class="text-danger">$19.00</span> <del class="text-muted">$29.00</del></p> *@
@*             <p>Lorem ipsum dolor sit amet</p> *@
@*             <div class="row mb-3"> *@
@*                 <div class="col-md-6"> *@
@*                     <label for="size" class="form-label">Size</label> *@
@*                     <select id="size" class="form-select"> *@
@*                         <option>S</option> *@
@*                         <option>M</option> *@
@*                         <option>L</option> *@
@*                     </select> *@
@*                 </div> *@
@*                 <div class="col-md-6"> *@
@*                     <label for="color" class="form-label">Color</label> *@
@*                     <select id="color" class="form-select"> *@
@*                         <option>Blue</option> *@
@*                         <option>Green</option> *@
@*                         <option>Red</option> *@
@*                     </select> *@
@*                 </div> *@
@*             </div> *@
@*             <div class="mb-3"> *@
@*                 <label for="quantity" class="form-label">Quantity</label> *@
@*                 <input type="number" id="quantity" class="form-control" value="1" min="1"> *@
@*             </div> *@
@*             <a href="/Cart.html" class="btn btn-dark">Add to Cart</a> *@
@*         </div> *@
@*     </div> *@
@*     <ul class="nav nav-tabs mt-5" id="productTabs"> *@
@*         <li class="nav-item"> *@
@*             <a class="nav-link active" data-bs-toggle="tab" href="#description">Description</a> *@
@*         </li> *@
@*         <li class="nav-item"> *@
@*             <a class="nav-link" data-bs-toggle="tab" href="#review">Reviews (0)</a> *@
@*         </li> *@
@*     </ul> *@
@*     <div class="tab-content mt-3"> *@
@*         <div class="tab-pane fade show active" id="description">Lorem ipsum dolor sit amet, consectetur</div> *@
@*         <div class="tab-pane fade" id="review"> *@
@*             <h5>REVIEWS</h5> *@
@*             <p>There are no reviews yet.</p> *@
@*             <form> *@
@*                 <div class="mb-3"> *@
@*                     <label class="form-label">Your Rating</label> *@
@*                     <select class="form-select"> *@
@*                         <option>5 Stars</option> *@
@*                         <option>4 Stars</option> *@
@*                         <option>3 Stars</option> *@
@*                         <option>2 Stars</option> *@
@*                         <option>1 Star</option> *@
@*                     </select> *@
@*                 </div> *@
@*                 <div class="mb-3"> *@
@*                     <label class="form-label">Your Message</label> *@
@*                     <textarea class="form-control" rows="4"></textarea> *@
@*                 </div> *@
@*                 <div class="row"> *@
@*                     <div class="col-md-6"> *@
@*                         <input type="text" class="form-control mb-3" placeholder="Name*"> *@
@*                     </div> *@
@*                     <div class="col-md-6"> *@
@*                         <input type="email" class="form-control mb-3" placeholder="Email Id*"> *@
@*                     </div> *@
@*                 </div> *@
@*                 <button type="submit" class="btn btn-dark">Submit Review</button> *@
@*             </form> *@
@*         </div> *@
@*     </div> *@
@* @* </div> *@ 


@* <div class="container py-5"> *@
@*     <div class="text-center mb-4"> *@
@*         <h2>Product Details</h2> *@
@*     </div> *@

@*     <div class="row"> *@
@*         <!-- Product Images Carousel --> *@
@*         <div class="col-md-6"> *@
@*             <div id="productCarousel" class="carousel slide" data-bs-ride="carousel"> *@
@*                 <div class="carousel-inner"> *@
@*                     @if (!string.IsNullOrEmpty(Model.ImageUrl)) *@
@*                     { *@
@*                         <div class="carousel-item active"> *@
@*                             <img src="@Model.ImageUrl" class="d-block w-100" alt="@Model.Name" /> *@
@*                         </div> *@
@*                     } *@
@*                     @if (!string.IsNullOrEmpty(Model.Img1)) *@
@*                     { *@
@*                         <div class="carousel-item @(string.IsNullOrEmpty(Model.ImageUrl) ? "active" : "")"> *@
@*                             <img src="@Model.Img1" class="d-block w-100" alt="@Model.Name" /> *@
@*                         </div> *@
@*                     } *@
@*                     @if (!string.IsNullOrEmpty(Model.Img2)) *@
@*                     { *@
@*                         <div class="carousel-item"> *@
@*                             <img src="@Model.Img2" class="d-block w-100" alt="@Model.Name" /> *@
@*                         </div> *@
@*                     } *@
@*                     @if (!string.IsNullOrEmpty(Model.Img3)) *@
@*                     { *@
@*                         <div class="carousel-item"> *@
@*                             <img src="@Model.Img3" class="d-block w-100" alt="@Model.Name" /> *@
@*                         </div> *@
@*                     } *@
@*                 </div> *@

@*                 <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev"> *@
@*                     <span class="carousel-control-prev-icon"></span> *@
@*                 </button> *@
@*                 <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next"> *@
@*                     <span class="carousel-control-next-icon"></span> *@
@*                 </button> *@
@*             </div> *@
@*         </div> *@

@*         <!-- Product Info --> *@
@*         <div class="col-md-6"> *@
@*             <h3>@Model.Name</h3> *@

@*             @if (Model.Rating.HasValue) *@
@*             { *@
@*                 <div class="mb-2"> *@
@*                     <span class="badge bg-warning"> *@
@*                         @for (int i = 0; i < Model.Rating; i++) {  *@
@*                             @:★ *@
@*                         } *@
@*                         @for (int i = Model.Rating.Value; i < 5; i++) { *@
@*                             @:☆  *@
@*                         } *@
@*                     </span> *@
@*                     <span>@Model.Reviews.Count Review(s)</span> *@
@*                 </div> *@
@*             } *@

@*             <p class="fs-4 text-danger">$@Model.Price</p> *@
@*             <p>@Model.Description</p> *@

@*             <div class="row mb-3"> *@
@*                 <div class="col-md-6"> *@
@*                     <label class="form-label">Size</label> *@
@*                     <input type="text" class="form-control" value="@Model.Size" readonly /> *@
@*                 </div> *@
@*                 <div class="col-md-6"> *@
@*                     <label class="form-label">Color</label> *@
@*                     <input type="text" class="form-control" value="@Model.Color" readonly /> *@
@*                 </div> *@
@*             </div> *@

@*             <div class="mb-3"> *@
@*                 <label class="form-label">Stock</label> *@
@*                 <input type="text" class="form-control" value="@Model.Stock" readonly /> *@
@*             </div> *@

@*             <div class="mb-3"> *@
@*                 <label class="form-label">Quantity</label> *@
@*                 <input type="number" class="form-control" value="1" min="1" max="@Model.Stock" /> *@
@*             </div> *@

@*             <a asp-controller="Cart" asp-action="Add" asp-route-id="@Model.Id" class="btn btn-dark">Add to Cart</a> *@
@*         </div> *@
@*     </div> *@

@*     <!-- Tabs: Description + Reviews --> *@
@*     <ul class="nav nav-tabs mt-5" id="productTabs"> *@
@*         <li class="nav-item"> *@
@*             <a class="nav-link active" data-bs-toggle="tab" href="#description">Description</a> *@
@*         </li> *@
@*         <li class="nav-item"> *@
@*             <a class="nav-link" data-bs-toggle="tab" href="#review">Reviews (@Model.Reviews.Count)</a> *@
@*         </li> *@
@*     </ul> *@

@*     <div class="tab-content mt-3"> *@
@*         <div class="tab-pane fade show active" id="description"> *@
@*             <p>@Model.Description</p> *@
@*         </div> *@

@*         <div class="tab-pane fade" id="review"> *@
@*             <h5>REVIEWS</h5> *@
@*             @if (!Model.Reviews.Any()) *@
@*             { *@
@*                 <p>There are no reviews yet.</p> *@
@*             } *@
@*             else *@
@*             { *@
@*                 <ul class="list-group"> *@
@*                     @foreach (var review in Model.Reviews) *@
@*                     { *@
@*                         <li class="list-group-item"> *@
@*                             <strong>@review.User?.Name</strong> said: *@
@*                             <p>@review.Comment</p> *@
@*                         </li> *@
@*                     } *@
@*                 </ul> *@
@*             } *@

@*             <form class="mt-4"> *@
@*                 <div class="mb-3"> *@
@*                     <label class="form-label">Your Message</label> *@
@*                     <textarea class="form-control" rows="4"></textarea> *@
@*                 </div> *@
@*                 <div class="row"> *@
@*                     <div class="col-md-6"> *@
@*                         <input type="text" class="form-control mb-3" placeholder="Name*"> *@
@*                     </div> *@
@*                     <div class="col-md-6"> *@
@*                         <input type="email" class="form-control mb-3" placeholder="Email Id*"> *@
@*                     </div> *@
@*                 </div> *@
@*                 <button type="submit" class="btn btn-dark">Submit Review</button> *@
@*             </form> *@
@*         </div> *@
@*     </div> *@
@* </div> *@


















@*     <style> *@
@*         .product-img { max-height: 500px; object-fit: cover; } *@
@*         .rating i { color: #ffc107; } *@
@*     </style> *@

@* <div class="container py-5"> *@
@*     <div class="row"> *@
@*         <!-- Product Image --> *@
@*         <div class="col-md-6"> *@
@*             <img src="@Model.ImageUrl" class="img-fluid product-img" alt="@Model.Name" /> *@
@*         </div> *@

@*         <!-- Product Details --> *@
@*         <div class="col-md-6"> *@
@*             <h2>@Model.Name</h2> *@
@*             <p class="text-muted">Category: @Model.Category</p> *@

@*             <div class="rating mb-2"> *@
@*                 @for (int i = 1; i <= 5; i++) *@
@*                 { *@
@*                     <i class="bi @(i <= Model.Rating ? "bi-star-fill" : "bi-star")"></i> *@
@*                 } *@
@*                 <span class="ms-2">(@Model.Rating reviews)</span> *@
@*             </div> *@

@*             <h3 class="text-success">@Model.Price.ToString("C")</h3> *@
@*             @* <p>@Model.Description</p> *@ 

@*             <div class="mb-3"> *@
@*                 <label class="form-label">Size:</label> *@
@*                 <select class="form-select w-50"> *@
@*                     <option>Small</option> *@
@*                     <option>Medium</option> *@
@*                     <option>Large</option> *@
@*                 </select> *@
@*             </div> *@

@*             <div class="mb-3"> *@
@*                 <label class="form-label">Quantity:</label> *@
@*                 <input type="number" class="form-control w-25" value="1" min="1" /> *@
@*             </div> *@

@*             <div class="d-flex gap-2"> *@
@*                 @* <a href="/Cart/Add/@Model.Id" class="btn btn-primary">Add to Cart</a> *@ 
@*                 <form asp-controller="payment" asp-action="addItemToCart" method="post" class="d-flex gap-2"> *@
@*                     <input type="hidden" name="productId" value="@Model.Id" /> *@
@*                     <div class="mb-3"> *@
@*                         <label class="form-label">Quantity:</label> *@
@*                         <input type="number" name="quantity" class="form-control w-25" value="1" min="1" /> *@
@*                     </div> *@
@*                     <button type="submit" class="btn btn-primary">Add to Cart</button> *@
@*                 </form> *@

@*                 <button class="btn btn-outline-secondary">Add to Wishlist</button> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <!-- Tabs Section --> *@
@*     <div class="mt-5"> *@
@*         <ul class="nav nav-tabs"> *@
@*             <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#description">Description</button></li> *@
@*             <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#reviews">Reviews</button></li> *@
@*         </ul> *@

@*         <div class="tab-content p-3 border border-top-0"> *@
@*             <div class="tab-pane fade show active" id="description"> *@
@*                 <p>@Model.Description</p> *@
@*             </div> *@

@*             <div class="tab-pane fade" id="reviews"> *@
@*                 <div class="mb-4"><strong>John Doe</strong><span class="text-muted"> – Jan 10, 2025</span><p>Excellent product!</p></div> *@
@*                 <h5>Write a Review</h5> *@
@*                 <form asp-action="addReview" method="post"> *@
@*                     <div class="mb-3"> *@
@*                         <label class="form-label">Your Name</label> *@
@*                         <input type="text" class="form-control" required> *@
@*                     </div> *@
@*                     <div class="mb-3"><label class="form-label">Rating</label> *@
@*                         <select asp-for="Rating" class="form-select"> *@
@*                             <option value="5">★★★★★</option> *@
@*                             <option value="4">★★★★☆</option> *@
@*                             <option value="3">★★★☆☆</option> *@
@*                             <option value="2">★★☆☆☆</option> *@
@*                             <option value="1">★☆☆☆☆</option> *@
@*                         </select> *@
@*                     </div> *@
@*                     <div class="mb-3"> *@
@*                         <label class="form-label">Comment</label> *@
@*                         <textarea class="form-control" rows="3" required> *@
@*                         </textarea></div> *@
@*                     <button type="submit" class="btn btn-success">Submit Review</button> *@
@*                 </form> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@
@* </div> *@














<!-- Product Section -->
<section class="py-5">
    <div class="container-fluid">
        <div class="row g-5">
            <!-- Product Images -->
            <div class="col-lg-6">
                <div class="border rounded-3 mb-3 p-3 text-center">
                    <img id="mainImage" src="@Model.Product.ImageUrl" alt="@Model.Product.Name" class="product-image img-fluid" style="object-fit: cover;">
                </div>
                <div class="d-flex flex-wrap gap-2 justify-content-center">
                    <img src="@Model.Product.Img1" alt="@Model.Product.Name" class="thumbnail" onclick="changeImage(this)">
                    <img src="@Model.Product.Img2" alt="@Model.Product.Name" class="thumbnail" onclick="changeImage(this)">
                    <img src="@Model.Product.Img3" alt="@Model.Product.Name" class="thumbnail" onclick="changeImage(this)">
                </div>
            </div>

            <!-- Product Details -->
            <div class="col-lg-6">
                <div class="ps-lg-3">
                    <h2 class="fw-bold">"@Model.Product.Name"</h2>

                    <div class="d-flex align-items-center my-3">
                        <div class="rating">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-half"></i>
                        </div>
                        <span class="ms-2 text-muted">4.5 (142 reviews)</span>
                        @if (Model.Product.Stock > 0)
                        { 
                            <span class="badge bg-success ms-3">In Stock</span>
                        }


                    </div>

                    <div class="mb-3">
                        <span class="h4 fw-bold">$199.99</span>
                        <span class="text-decoration-line-through text-muted ms-2">@Model.Product.Price.ToString("C")</span>
                        <span class="badge bg-danger ms-2">20% OFF</span>
                    </div>

                    <p class="lead">@Model.Product.Description</p>

                    @* <div class="mb-4"> *@
                    @*     <span class="fw-bold me-2">Colors:</span> *@
                    @*     <div class="btn-group btn-group-sm" role="group"> *@
                    @*         <input type="radio" class="btn-check" name="color" id="color1" autocomplete="off" checked> *@
                    @*         <label class="btn btn-outline-dark" for="color1">Black</label> *@

                    @*         <input type="radio" class="btn-check" name="color" id="color2" autocomplete="off"> *@
                    @*         <label class="btn btn-outline-dark" for="color2">White</label> *@

                    @*         <input type="radio" class="btn-check" name="color" id="color3" autocomplete="off"> *@
                    @*         <label class="btn btn-outline-dark" for="color3">Blue</label> *@
                    @*     </div> *@
                    @* </div> *@

                    <div class="row g-3 mb-4">
                        <div class="col-md-4">
                            <label class="form-label fw-bold">Quantity</label>
                            <div class="input-group">
                                <button class="btn btn-outline-secondary" type="button" id="decrement">-</button>
                                <input type="text" class="form-control text-center" value="1" id="quantity">
                                <button class="btn btn-outline-secondary" type="button" id="increment">+</button>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <label class="form-label fw-bold">Size</label>
                            <select class="form-select">
                                <option selected>Standard</option>
                                <option>Large</option>
                                <option>Extra Large</option>
                            </select>
                        </div>
                    </div>

                    <div class="d-flex gap-3 mb-4">
                         <form asp-controller="payment" asp-action="addItemToCart" method="post" class="d-flex gap-2"> 
                    <input type="hidden" name="productId" value="@Model.Product.Id" />
                    <button type="submit" class="btn btn-primary">Add to Cart</button>
                </form>


                        <button class="btn btn-primary px-4 py-2 flex-grow-1">
                            <i class="bi bi-cart-fill me-2"></i> Add to Cart
                        </button>
                        <button class="btn btn-outline-primary px-4 py-2">
                            <i class="bi bi-heart-fill me-2"></i> Wishlist
                        </button>
                    </div>

                    <hr class="my-4">

                    @* <div class="mb-4"> *@
                    @*     <h5 class="fw-bold">Product Details</h5> *@
                    @*     <ul class="list-unstyled"> *@
                    @*         <li class="mb-1"><i class="bi bi-check-circle-fill text-primary me-2"></i> Active Noise Cancellation</li> *@
                    @*         <li class="mb-1"><i class="bi bi-check-circle-fill text-primary me-2"></i> 30-hour battery life</li> *@
                    @*         <li class="mb-1"><i class="bi bi-check-circle-fill text-primary me-2"></i> Bluetooth 5.0</li> *@
                    @*         <li class="mb-1"><i class="bi bi-check-circle-fill text-primary me-2"></i> Built-in microphone</li> *@
                    @*         <li class="mb-1"><i class="bi bi-check-circle-fill text-primary me-2"></i> Foldable design</li> *@
                    @*     </ul> *@
                    @* </div> *@

                    @* <div class="d-flex gap-2"> *@
                    @*     <span class="fw-bold">Share:</span> *@
                    @*     <a href="#" class="text-dark"><i class="bi bi-facebook"></i></a> *@
                    @*     <a href="#" class="text-dark"><i class="bi bi-twitter"></i></a> *@
                    @*     <a href="#" class="text-dark"><i class="bi bi-instagram"></i></a> *@
                    @*     <a href="#" class="text-dark"><i class="bi bi-pinterest"></i></a> *@
                    @* </div> *@
                </div>
            </div>
        </div>

        <!-- Product Description & Reviews -->
        <div class="row mt-5">
            <div class="col-12">
                <ul class="nav nav-tabs" id="productTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab">Description</button>
                    </li>
                    @* <li class="nav-item" role="presentation"> *@
                    @*     <button class="nav-link" id="specs-tab" data-bs-toggle="tab" data-bs-target="#specs" type="button" role="tab">Specifications</button> *@
                    @* </li> *@
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab">Reviews (142)</button>
                    </li>
                </ul>

                <div class="tab-content p-3 border border-top-0 rounded-bottom" id="productTabsContent">
                    <div class="tab-pane fade show active" id="description" role="tabpanel">
                        <h5 class="fw-bold mb-3">Product Description</h5>
                        <p>Our Premium Wireless Headphones deliver an unparalleled listening experience with industry-leading active noise cancellation. Whether you're commuting, working, or relaxing at home, immerse yourself in pure, uninterrupted sound.</p>
                        <p>The ergonomic over-ear design provides all-day comfort with plush memory foam ear cushions. The adjustable headband ensures a perfect fit for any head size. With Bluetooth 5.0 technology, enjoy seamless connectivity up to 30 feet from your device.</p>
                        <p>The built-in microphone with noise reduction makes these headphones perfect for calls and virtual meetings. The foldable design makes them easy to carry in the included premium carrying case.</p>
                    </div>

                    @* <div class="tab-pane fade" id="specs" role="tabpanel"> *@
                    @*     <h5 class="fw-bold mb-3">Technical Specifications</h5> *@
                    @*     <div class="table-responsive"> *@
                    @*         <table class="table table-bordered"> *@
                    @*             <tbody> *@
                    @*                 <tr> *@
                    @*                     <th>Brand</th> *@
                    @*                     <td>AudioPro</td> *@
                    @*                 </tr> *@
                    @*                 <tr> *@
                    @*                     <th>Model</th> *@
                    @*                     <td>AP-WH300</td> *@
                    @*                 </tr> *@
                    @*                 <tr> *@
                    @*                     <th>Connectivity</th> *@
                    @*                     <td>Bluetooth 5.0, 3.5mm wired</td> *@
                    @*                 </tr> *@
                    @*                 <tr> *@
                    @*                     <th>Battery Life</th> *@
                    @*                     <td>Up to 30 hours (ANC on), 40 hours (ANC off)</td> *@
                    @*                 </tr> *@
                    @*                 <tr> *@
                    @*                     <th>Charging Time</th> *@
                    @*                     <td>2 hours (fast charge: 15 mins = 5 hours)</td> *@
                    @*                 </tr> *@
                    @*                 <tr> *@
                    @*                     <th>Weight</th> *@
                    @*                     <td>254g</td> *@
                    @*                 </tr> *@
                    @*                 <tr> *@
                    @*                     <th>Warranty</th> *@
                    @*                     <td>2 years</td> *@
                    @*                 </tr> *@
                    @*             </tbody> *@
                    @*         </table> *@
                    @*     </div> *@
                    @* </div> *@

                    <div class="tab-pane fade" id="reviews" role="tabpanel">
                        <h5 class="fw-bold mb-3">Customer Reviews</h5>
                        @* <div class="row mb-4"> *@
                        @*     <div class="col-md-4"> *@
                        @*         <div class="text-center p-3 bg-light rounded"> *@
                        @*             <h2 class="fw-bold">4.5<span class="text-muted fs-4">/5</span></h2> *@
                        @*             <div class="rating mb-2"> *@
                        @*                 <i class="bi bi-star-fill"></i> *@
                        @*                 <i class="bi bi-star-fill"></i> *@
                        @*                 <i class="bi bi-star-fill"></i> *@
                        @*                 <i class="bi bi-star-fill"></i> *@
                        @*                 <i class="bi bi-star-half"></i> *@
                        @*             </div> *@
                        @*             <p class="text-muted">Based on 142 reviews</p> *@
                        @*         </div> *@
                        @*     </div> *@
                        @*     <div class="col-md-8"> *@
                        @*         <div class="mb-3"> *@
                        @*             <div class="d-flex align-items-center mb-1"> *@
                        @*                 <span class="me-2">5 stars</span> *@
                        @*                 <div class="progress flex-grow-1" style="height: 10px;"> *@
                        @*                     <div class="progress-bar bg-warning" style="width: 75%"></div> *@
                        @*                 </div> *@
                        @*                 <span class="ms-2">75%</span> *@
                        @*             </div> *@
                        @*             <div class="d-flex align-items-center mb-1"> *@
                        @*                 <span class="me-2">4 stars</span> *@
                        @*                 <div class="progress flex-grow-1" style="height: 10px;"> *@
                        @*                     <div class="progress-bar bg-warning" style="width: 15%"></div> *@
                        @*                 </div> *@
                        @*                 <span class="ms-2">15%</span> *@
                        @*             </div> *@
                        @*             <div class="d-flex align-items-center mb-1"> *@
                        @*                 <span class="me-2">3 stars</span> *@
                        @*                 <div class="progress flex-grow-1" style="height: 10px;"> *@
                        @*                     <div class="progress-bar bg-warning" style="width: 5%"></div> *@
                        @*                 </div> *@
                        @*                 <span class="ms-2">5%</span> *@
                        @*             </div> *@
                        @*             <div class="d-flex align-items-center mb-1"> *@
                        @*                 <span class="me-2">2 stars</span> *@
                        @*                 <div class="progress flex-grow-1" style="height: 10px;"> *@
                        @*                     <div class="progress-bar bg-warning" style="width: 3%"></div> *@
                        @*                 </div> *@
                        @*                 <span class="ms-2">3%</span> *@
                        @*             </div> *@
                        @*             <div class="d-flex align-items-center"> *@
                        @*                 <span class="me-2">1 star</span> *@
                        @*                 <div class="progress flex-grow-1" style="height: 10px;"> *@
                        @*                     <div class="progress-bar bg-warning" style="width: 2%"></div> *@
                        @*                 </div> *@
                        @*                 <span class="ms-2">2%</span> *@
                        @*             </div> *@
                        @*         </div> *@
                        @*     </div> *@
                        @* </div> *@

                        <div class="mb-4">
                            <h6 class="fw-bold">Write a Review</h6>
                            @if (Model.UserHasPurchased)
                            {
                                <form asp-action="addReview">
                                    <input type="hidden" asp-for="Product.Id" value="@Model.Product.Id" />
                                    <div class="mb-3">
                                        <label class="form-label">Rating</label>
                                        <select asp-for="NewFeedback.Rating" class="form-control mb-2">
                                            <option value="1">★☆☆☆☆</option>
                                            <option value="2">★★☆☆☆</option>
                                            <option value="3">★★★☆☆</option>
                                            <option value="4">★★★★☆</option>
                                            <option value="5">★★★★★</option>
                                        </select>

                                    </div>
                                    <div class="mb-3">
                                        <label for="reviewTitle" class="form-label">Title</label>
                                        <input type="text" class="form-control" id="reviewTitle">
                                    </div>
                                    <div class="mb-3">
                                        <label for="reviewText" class="form-label">Your Review</label>
                                        <textarea asp-for="NewFeedback.Comment" class="form-control" id="reviewText" rows="3"></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Submit Review</button>
                                </form>
                            }
                            else
                            {
                                <p class="text-danger">Only verified buyers can leave a review.</p>
                            }
                        </div>

                        <div class="border-top pt-3">
                             @foreach (var review in Model.Reviews)
                            {
                            <div class="d-flex mb-4">
                                @* <img src="https://via.placeholder.com/50" alt="User" class="rounded-circle me-3" width="50" height="50"> *@
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <h6 class="fw-bold mb-0">@review.User.Name</h6>
                                        <small class="text-muted">@review.CreatedAt?.ToShortDateString() ?? "N/A"</small>
                                    </div>
                                        <div class="rating mb-1">
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                if (i <= review.Rating)
                                                {
                                                    <i class="bi bi-star-fill text-warning"></i> <!-- filled star -->
                                                }
                                                else
                                                {
                                                    <i class="bi bi-star text-warning"></i> <!-- empty star -->
                                                }
                                            }
                                        </div>

                                    <p>@review.Comment</p>
                                </div>
                            </div>
                            }

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

                                                   